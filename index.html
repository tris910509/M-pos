<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manajemen Penjualan</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-4">
    <h3>Manajemen Produk, Kategori, Supplier, dan Transaksi</h3>

    <!-- Tabs -->
    <ul class="nav nav-tabs mt-3" id="myTab" role="tablist">
      <li class="nav-item">
        <button class="nav-link active" id="produk-tab" data-bs-toggle="tab" data-bs-target="#produk" type="button">Produk</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" id="kategori-tab" data-bs-toggle="tab" data-bs-target="#kategori" type="button">Kategori</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" id="supplier-tab" data-bs-toggle="tab" data-bs-target="#supplier" type="button">Supplier</button>
      </li>
      <li class="nav-item">
        <button class="nav-link" id="transaksi-tab" data-bs-toggle="tab" data-bs-target="#transaksi" type="button">Transaksi</button>
      </li>
    </ul>

    <div class="tab-content mt-3" id="myTabContent">
      <!-- Produk Tab -->
      <div class="tab-pane fade show active" id="produk" role="tabpanel">
        <h5>Manajemen Produk</h5>
        <button class="btn btn-primary mb-3" onclick="addItem('product')">Tambah Produk</button>
        <table class="table">
          <thead>
            <tr>
              <th>#</th>
              <th>Nama</th>
              <th>Kategori</th>
              <th>Harga</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody id="productTable"></tbody>
        </table>
      </div>

      <!-- Kategori Tab -->
      <div class="tab-pane fade" id="kategori" role="tabpanel">
        <h5>Manajemen Kategori</h5>
        <button class="btn btn-primary mb-3" onclick="addItem('category')">Tambah Kategori</button>
        <table class="table">
          <thead>
            <tr>
              <th>#</th>
              <th>Nama</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody id="categoryTable"></tbody>
        </table>
      </div>

      <!-- Supplier Tab -->
      <div class="tab-pane fade" id="supplier" role="tabpanel">
        <h5>Manajemen Supplier</h5>
        <button class="btn btn-primary mb-3" onclick="addItem('supplier')">Tambah Supplier</button>
        <table class="table">
          <thead>
            <tr>
              <th>#</th>
              <th>Nama</th>
              <th>Kontak</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody id="supplierTable"></tbody>
        </table>
      </div>

      <!-- Transaksi Tab -->
      <div class="tab-pane fade" id="transaksi" role="tabpanel">
        <h5>Manajemen Transaksi</h5>
        <button class="btn btn-primary mb-3" onclick="addItem('transaction')">Tambah Transaksi</button>
        <table class="table">
          <thead>
            <tr>
              <th>#</th>
              <th>Produk</th>
              <th>Jumlah</th>
              <th>Total</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody id="transactionTable"></tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    // Data Initialization
    let products = [];
    let categories = [];
    let suppliers = [];
    let transactions = [];

    // Helper function to add items
    function addItem(type) {
      let name = prompt(`Masukkan nama ${type}:`);
      if (!name) return;

      if (type === 'product') {
        let category = prompt("Masukkan kategori:");
        let price = parseFloat(prompt("Masukkan harga:"));
        if (!category || isNaN(price)) return alert("Data tidak valid!");
        products.push({ id: products.length + 1, name, category, price });
      } else if (type === 'category') {
        categories.push({ id: categories.length + 1, name });
      } else if (type === 'supplier') {
        let contact = prompt("Masukkan kontak supplier:");
        suppliers.push({ id: suppliers.length + 1, name, contact });
      } else if (type === 'transaction') {
        let product = prompt("Masukkan produk:");
        let quantity = parseInt(prompt("Masukkan jumlah:"));
        let total = parseFloat(prompt("Masukkan total:"));
        if (!product || isNaN(quantity) || isNaN(total)) return alert("Data tidak valid!");
        transactions.push({ id: transactions.length + 1, product, quantity, total });
      }

      renderData();
    }

    // Helper function to delete items
    function deleteItem(type, id) {
      if (type === 'product') {
        products = products.filter(item => item.id !== id);
      } else if (type === 'category') {
        categories = categories.filter(item => item.id !== id);
      } else if (type === 'supplier') {
        suppliers = suppliers.filter(item => item.id !== id);
      } else if (type === 'transaction') {
        transactions = transactions.filter(item => item.id !== id);
      }
      renderData();
    }

    // Render functions
    function renderData() {
      renderProducts();
      renderCategories();
      renderSuppliers();
      renderTransactions();
    }

    function renderProducts() {
      const productTable = document.getElementById('productTable');
      productTable.innerHTML = products.map((item, index) => `
        <tr>
          <td>${index + 1}</td>
          <td>${item.name}</td>
          <td>${item.category}</td>
          <td>${item.price}</td>
          <td>
            <button class="btn btn-danger btn-sm" onclick="deleteItem('product', ${item.id})">Hapus</button>
          </td>
        </tr>
      `).join('');
    }

    function renderCategories() {
      const categoryTable = document.getElementById('categoryTable');
      categoryTable.innerHTML = categories.map((item, index) => `
        <tr>
          <td>${index + 1}</td>
          <td>${item.name}</td>
          <td>
            <button class="btn btn-danger btn-sm" onclick="deleteItem('category', ${item.id})">Hapus</button>
          </td>
        </tr>
      `).join('');
    }

    function renderSuppliers() {
      const supplierTable = document.getElementById('supplierTable');
      supplierTable.innerHTML = suppliers.map((item, index) => `
        <tr>
          <td>${index + 1}</td>
          <td>${item.name}</td>
          <td>${item.contact}</td>
          <td>
            <button class="btn btn-danger btn-sm" onclick="deleteItem('supplier', ${item.id})">Hapus</button>
          </td>
        </tr>
      `).join('');
    }

    function renderTransactions() {
      const transactionTable = document.getElementById('transactionTable');
      transactionTable.innerHTML = transactions.map((item, index) => `
        <tr>
          <td>${index + 1}</td>
          <td>${item.product}</td>
          <td>${item.quantity}</td>
          <td>${item.total}</td>
          <td>
            <button class="btn btn-danger btn-sm" onclick="deleteItem('transaction', ${item.id})">Hapus</button>
          </td>
        </tr>
      `).join('');
    }

    // Initial render
    renderData();
  </script>
</body>
</html>
